{% extends 'base.html.twig' %}

{% block title %}Hello {{ controller_name }}!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    {#<h1>Hello {{ controller_name }}! âœ…</h1>#}

    {#This friendly message is coming from:#}
    {#<ul>#}
        {#<li>Your controller at <code><a href="{{ 'src/Controller/MainController.php'|file_link(0) }}">src/Controller/MainController.php</a></code></li>#}
        {#<li>Your template at <code><a href="{{ 'templates/main/index.html.twig'|file_link(0) }}">templates/main/index.html.twig</a></code></li>#}
    {#</ul>#}
    <div class="pagerfanta">
        {{ pagerfanta(my_pager, 'twitter_bootstrap4', { 'omitFirstPage': true}) }}
        {% for item in my_pager.currentPageResults %}
            <ul>
                <li><a href="/article/{{ item.externalId }}">{{ item.title }}</a></li>
                <li>
                    {% with { lng : 200 } %}
                        {% set text = item.content | striptags %}
                        {{ text|length > lng ? text|slice(0, lng)|raw ~ ' ...' : text|raw }}
                    {% endwith %}
                </li>
                <li>{{ item.pubDate|date("l jS \of F Y G:i:s") }}</li>
                <li><img src="{{ item.enclosureUrl | default('no_image.png')}}"/></li>
            </br>
            </ul>
        {% endfor %}
        {{ pagerfanta(my_pager, 'twitter_bootstrap4', { 'omitFirstPage': true}) }}
    </div>
</div>
{% endblock %}
